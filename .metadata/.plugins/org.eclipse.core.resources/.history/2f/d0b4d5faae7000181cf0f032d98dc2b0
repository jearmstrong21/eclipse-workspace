package co.megadodo.voronoidelaunay;

import java.awt.Color;
import java.awt.Graphics;
import java.awt.Graphics2D;
import java.util.ArrayList;

import javax.swing.JFrame;
import javax.swing.JPanel;

public class VoronoiDelaunay extends JPanel {
	
	public static void main(String[] args) {
		new VoronoiDelaunay();
	}
	
	public JFrame frame;
	
	public VoronoiDelaunay() {
		frame = new JFrame("Voronoi / Delaunay");
		frame.setSize(500, 500);
		frame.add(this);
		frame.setVisible(true);
	}
	
	public void paint(Graphics g) {
		Graphics2D g2d = (Graphics2D) g;
		ArrayList<Vector2f> points = new ArrayList<Vector2f>();
		for(int i = 0; i < 10; i++) {
			points.add(new Vector2f( (float)(Math.random()*500),  (float)(Math.random()*500) ));
		}
		ArrayList<Triangle> tris = Triangulator.triangulation(points);
		
		g2d.setColor(Color.WHITE);
		g2d.fillRect(0, 0, 500, 500);
		
		for(Triangle t : tris) {
			g2d.setColor(Color.BLACK);
			g2d.drawLine((int)t.a.x, (int)t.a.y, (int)t.b.x, (int)t.b.y);
			g2d.drawLine((int)t.b.x, (int)t.b.y, (int)t.c.x, (int)t.c.y);
			g2d.drawLine((int)t.a.x, (int)t.a.y, (int)t.c.x, (int)t.c.y);
			g2d.setColor(Color.MAGENTA);
			Vector2f cc = t.circumcenter();
			float cr = t.circumrad();
			g2d.drawOval((int)(cc.x-cr/2), (int)(cc.y-cr/2), (int)cr*2, (int)cr*2);
		}
		for(Vector2f p : points) {
			g2d.setColor(Color.BLACK);
			g2d.fillOval((int)p.x, (int)p.y, 10, 10);
		}
	}

}