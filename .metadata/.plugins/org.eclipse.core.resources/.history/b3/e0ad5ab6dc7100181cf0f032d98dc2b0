package co.megadodo.hellojogamp;

import java.awt.Frame;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;

import com.jogamp.opengl.GL4;
import com.jogamp.opengl.GLAutoDrawable;
import com.jogamp.opengl.GLCapabilities;
import com.jogamp.opengl.GLEventListener;
import com.jogamp.opengl.GLProfile;
import com.jogamp.opengl.awt.GLCanvas;
import com.jogamp.opengl.util.FPSAnimator;

public class HelloJOGAMP implements GLEventListener {
	
	double theta=0;
	float[]xs,ys,zs;
	public static void main(String[]args) {
		GLProfile glp=GLProfile.getDefault();
		GLCapabilities caps=new GLCapabilities(glp);
		GLCanvas canvas=new GLCanvas(caps);
		Frame frame=new Frame("Spinning Triangle");
		frame.setSize(400,400);
		frame.add(canvas);
		frame.setVisible(true);
		frame.addWindowListener(new WindowAdapter() {
			public void windowClosing(WindowEvent e) {
				System.exit(0);
			}
		});
		canvas.addGLEventListener(new HelloJOGAMP());
		FPSAnimator animator=new FPSAnimator(canvas, 60);
//		animator.add(canvas);
		animator.start();
	}
	
	public void display(GLAutoDrawable drawable) {
		update();
		render(drawable);
	}
	
	public void dispose(GLAutoDrawable drawable) {
		
	}
	
	public void init(GLAutoDrawable drawable) {
	}
	
	public void reshape(GLAutoDrawable drawable,int x,int y,int w,int h) {
		
	}
	
	public void update() {
		
	}
	public void render(GLAutoDrawable drawable) {
		GL4 gl = (GL4)drawable.getGL();
		ShaderProgram shader=new ShaderProgram();
		shader.genProgram(gl, "out vec4 outPos;in vec3 inPos;void main(){outPos=vec4(inPos,1.0);}","out vec4 outCol;void main(){outCol=vec4(1.0,1.0,1.0,1.0);}");
	}

}
